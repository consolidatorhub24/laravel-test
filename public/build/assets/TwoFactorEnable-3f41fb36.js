import{r as m,j as f,k as p,O as c,T as _,c as i,a as r,w as h,u as o,F as x,o as d,b as t,d as w,v as b,t as y,e as g,f as v,Z as T}from"./app-73b20253.js";import{_ as C}from"./Modal-cfd525eb.js";const F=t("h2",{class:"text-center text-2xl font-bold font-mono text-gray-900"},"Set up two factor authentication",-1),M=["onSubmit"],S=t("p",{class:"text-sm"},"To set up two factor authentication, scan the QR code with your authenticator application and enter the code below.",-1),k=["innerHTML"],V=t("label",{for:"code",class:"text-sm font-medium text-gray-900"},"Code",-1),B={class:"mt-2"},E={key:0,class:"text-sm text-red-500 mt-2"},N=["disabled"],D={__name:"TwoFactorEnable",setup(j){const a=m("");f(()=>{p.get(route("two-factor.qr-code")).then(s=>{a.value=s.data.svg}).catch(s=>{s.response.status===423&&c.get(route("password.confirm"))})});const e=_({code:null}),l=()=>{e.post(route("two-factor.confirm"),{onSuccess:()=>{c.get(route("account.security.index"))}})};return(s,n)=>(d(),i(x,null,[r(C,{class:"bg-white max-w-md p-12"},{default:h(()=>[F,t("form",{class:"mt-6 space-y-6",onSubmit:v(l,["prevent"])},[S,t("div",{innerHTML:a.value,class:"w-1/2 mx-auto"},null,8,k),t("div",null,[V,t("div",B,[w(t("input",{type:"text",id:"code",class:"w-full py-2 text-gray-900 border-gray-300 text-sm","onUpdate:modelValue":n[0]||(n[0]=u=>o(e).code=u)},null,512),[[b,o(e).code]]),o(e).errors.confirmTwoFactorAuthentication?(d(),i("div",E,y(o(e).errors.confirmTwoFactorAuthentication.code),1)):g("",!0)])]),t("div",null,[t("button",{type:"submit",class:"flex w-full justify-center bg-blue-500 px-3 py-2 text-sm font-semibold text-white disabled:opacity-50",disabled:o(e).processing}," Continue ",8,N)])],40,M)]),_:1}),r(o(T),{title:"Enable two factor authentication"})],64))}};export{D as default};
